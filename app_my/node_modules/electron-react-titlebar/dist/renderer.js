(()=>{"use strict";var e={n:t=>{var a=t&&t.__esModule?()=>t.default:()=>t;return e.d(a,{a}),a},d:(t,a)=>{for(var n in a)e.o(a,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:a[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{MenuBarProps:()=>l.MenuBarProps,MenuItemT:()=>n.MenuItemT,MenuListItemProps:()=>n.MenuListItemProps,MenuListProps:()=>r.MenuListProps,MenuT:()=>l.MenuT,TitleBar:()=>y,TitleBarProps:()=>i.TitleBarProps,WindowControlsProps:()=>a.WindowControlsProps});var a={};e.r(a),e.d(a,{h:()=>m});var n={};e.r(n),e.d(n,{M:()=>k});var r={};e.r(r),e.d(r,{q:()=>f});var l={};e.r(l),e.d(l,{j:()=>x});var i={};e.r(i),e.d(i,{T:()=>y});const c=require("react");var s=e.n(c);const o=require("electron"),m=({disableMaximize:e,disableMinimize:t,browserWindowId:a})=>{const[n,r]=(0,c.useState)(!1),l=(0,c.useRef)(a);(0,c.useEffect)((()=>{const e=(e,t,a)=>{a===l.current&&r(t)};return o.ipcRenderer.on("electron-react-titlebar/maximunize/change",e),(async()=>{l.current=await o.ipcRenderer.invoke("electron-react-titlebar/initialize",a)})().finally((()=>null)),()=>{o.ipcRenderer.removeListener("electron-react-titlebar/maximunize/change",e)}}),[a]);const i=(0,c.useCallback)((()=>{o.ipcRenderer.send("electron-react-titlebar/maximumize/set",a)}),[a]),m=(0,c.useCallback)((()=>{o.ipcRenderer.send("electron-react-titlebar/minimumize/set",a)}),[a]),d=(0,c.useCallback)((()=>{o.ipcRenderer.send("electron-react-titlebar/close",a)}),[a]);return s().createElement("div",{className:"window-controls"},s().createElement("button",{"aria-label":"minimize",tabIndex:-1,className:"window-control window-minimize",disabled:t,onClick:m},s().createElement("svg",{"aria-hidden":"true",version:"1.1",width:"10",height:"10"},s().createElement("path",{d:"M 0,5 10,5 10,6 0,6 Z"}))),s().createElement("button",{"aria-label":"maximize",tabIndex:-1,className:"window-control window-maximize",disabled:e,onClick:i},s().createElement("svg",{"aria-hidden":"true",version:"1.1",width:"10",height:"10"},s().createElement("path",{d:n?"m 2,1e-5 0,2 -2,0 0,8 8,0 0,-2 2,0 0,-8 z m 1,1 6,0 0,6 -1,0 0,-5 -5,0 z m -2,2 6,0 0,6 -6,0 z":"M 0,0 0,10 10,10 10,0 Z M 1,1 9,1 9,9 1,9 Z"}))),s().createElement("button",{"aria-label":"close",tabIndex:-1,className:"window-control window-close",onClick:d},s().createElement("svg",{"aria-hidden":"true",version:"1.1",width:"10",height:"10"},s().createElement("path",{d:"M 0,0 0,0.7 4.3,5 0,9.3 0,10 0.7,10 5,5.7 9.3,10 10,10 10,9.3 5.7,5 10,0.7 10,0 9.3,0 5,4.3 0.7,0 Z"}))))},d=require("classnames");var u=e.n(d);const b=require("lodash");function p(e,t,a){const[n,...r]=t;if(void 0===n)return(0,b.isEqual)(e,a)?e:a;let l;l=n in e?e[n]:{};const i=p(l,r,a);if(i!==l){let t;return t=Array.isArray(e)?[...e.slice(0,n),i,...e.slice(n+1,e.length)]:{...e,[n]:i},t}return e}const h=require("react-window"),v=s().createElement("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},s().createElement("path",{d:"M1671 566q0 40-28 68l-724 724-136 136q-28 28-68 28t-68-28l-136-136-362-362q-28-28-28-68t28-68l136-136q28-28 68-28t68 28l294 295 656-657q28-28 68-28t68 28l136 136q28 28 28 68z"})),w=s().createElement("span",null),E=s().createElement("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},s().createElement("path",{d:"M896 352q-148 0-273 73t-198 198-73 273 73 273 198 198 273 73 273-73 198-198 73-273-73-273-198-198-273-73zm768 544q0 209-103 385.5t-279.5 279.5-385.5 103-385.5-103-279.5-279.5-103-385.5 103-385.5 279.5-279.5 385.5-103 385.5 103 279.5 279.5 103 385.5z"})),g=s().createElement("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},s().createElement("path",{d:"M1152 896q0 106-75 181t-181 75-181-75-75-181 75-181 181-75 181 75 75 181zm-256-544q-148 0-273 73t-198 198-73 273 73 273 198 198 273 73 273-73 198-198 73-273-73-273-198-198-273-73zm768 544q0 209-103 385.5t-279.5 279.5-385.5 103-385.5-103-279.5-279.5-103-385.5 103-385.5 279.5-279.5 385.5-103 385.5 103 279.5 279.5 103 385.5z"})),k=({mainIndex:e,subIndex:t,curItem:a,style:n,changeCheckState:r})=>{const[l,i]=(0,c.useState)(!1),o=(0,c.useCallback)((n=>{if("separator"!==a.type&&!1!==a.enabled)if("checkbox"===a.type){n.persist();const l={...a,checked:!a.checked};a.click(l,n),r(e,t,!a.checked)}else if("radio"===a.type){const l={...a,checked:!0};a.click(l,n),a.checked||r(e,t,!0,!0)}else n.persist(),a.click(a,n);else n.stopPropagation()}),[]);if(0==a.visiable)return s().createElement("div",null);const m=u()("list-item",{selected:l&&"separator"!==a.type&&!1!==a.enabled}),d=u()("menu-item",{disabled:"separator"!==a.type&&!1===a.enabled}),b="separator"===a.type?s().createElement("hr",null):s().createElement("div",{className:d,onClick:o},s().createElement("div",{className:"status-icon"},"radio"===a.type?a.checked?g:E:a.checked&&"checkbox"===a.type?v:w),s().createElement("div",{className:"menu-label"},s().createElement("span",null,a.label)),a.accelerator&&s().createElement("div",{className:"accelerator"},a.accelerator));return s().createElement("div",{role:"menuitem",className:m,style:n,tabIndex:-1,onMouseOver:()=>i(!0),onMouseLeave:()=>i(!1)},b)},f=({rect:e,mainIndex:t,menulist:a,changeCheckState:n})=>{const r=(0,c.useCallback)((e=>{const t=a[e];return!1===t.visiable?0:"separator"===t.type?10:30}),[a]),l=(0,c.useCallback)((({rowIndex:e,style:r})=>s().createElement(k,{curItem:a[e],style:r,changeCheckState:n,mainIndex:t,subIndex:e})),[a,n,t]),i=a.map(((e,t)=>r(t))).reduce(((e,t)=>e+t),0);return s().createElement("div",{id:"foldout-container",style:{position:"absolute",top:e.bottom,left:0,width:"100%",height:`calc(100% - ${e.bottom}px)`}},s().createElement("div",{className:"overlay",tabIndex:-1}),s().createElement("div",{className:"foldout",style:{position:"absolute",marginLeft:e.left,maxWidth:`calc(100% - ${e.left}px)`,height:"100%",overflow:"hidden",top:0}},s().createElement("div",{id:"app-menu-foldout"},s().createElement("div",{className:"menu-pane",style:{height:i,maxHeight:"100%"}},s().createElement("div",{className:"list",role:"menu"},s().createElement(h.VariableSizeGrid,{columnCount:1,rowCount:a.length,columnWidth:()=>240,height:i,rowHeight:r,width:240},l)),s().createElement("div",{className:"menu-pane menu-endblock"})))))},x=({menu:e})=>{const[t,a]=(0,c.useState)(!1),[n,r]=(0,c.useState)(0),[l,i]=(0,c.useState)(e),o=(0,c.useRef)(!1),m=(0,c.useRef)({}),d=(0,c.useCallback)((e=>{t&&r(e)}),[t]),b=(0,c.useCallback)((e=>{o.current?o.current=!1:a(!(n===e&&t))}),[t,n]),h=(0,c.useCallback)((e=>{e!==n&&t&&(o.current=!0)}),[t,n]);(0,c.useEffect)((()=>{i(e)}),[e]);const v=(e,t,a,n=!1)=>{if(n){let a=[...l];const n=l[e].submenu.length;for(let r=0;r<n;r++)"radio"===l[e].submenu[r].type&&(a=p(a,[e,"submenu",r,"checked"],r===t));i(a)}else i(p(l,[e,"submenu",t,"checked"],a))};return s().createElement("div",{id:"app-menu-bar",role:"menubar","aria-label":"Application menu"},l.map(((e,a)=>{var l;return s().createElement("div",{key:a,onMouseOver:()=>d(a),onClick:()=>b(a),onTouchStart:()=>h(a),onMouseMove:()=>(e=>{r(e)})(a),ref:e=>e&&((e,t)=>{m.current[t]=e})(e,a),className:u()("toolbar-dropdown",{open:t&&a===n,closed:!t||a!==n})},t&&a===n&&s().createElement(f,{rect:null===(l=m.current[a])||void 0===l?void 0:l.getBoundingClientRect(),menulist:e.submenu,changeCheckState:v,mainIndex:a}),s().createElement("div",{className:"toolbar-button"},s().createElement("button",{className:"button-component",type:"button",tabIndex:-1},s().createElement("div",{className:"menu-item"},s().createElement("div",{className:"menu-label"},s().createElement("span",{"aria-label":"View"},s().createElement("span",{"aria-hidden":"true"},e.label)))))))})))},y=({children:e,icon:t,menu:a,disableMinimize:n,disableMaximize:r,className:l,browserWindowId:i})=>s().createElement("div",{id:"electron-app-title-bar",className:`electron-app-title-bar ${l||""}`},s().createElement("div",{className:"resize-handle resize-handle-top"}),s().createElement("div",{className:"resize-handle resize-handle-left"}),!!t&&s().createElement("img",{className:"icon",src:t}),!!a&&s().createElement(x,{menu:a}),e,s().createElement(m,{disableMinimize:n,disableMaximize:r,browserWindowId:i}));module.exports=t})();
//# sourceMappingURL=renderer.js.map